# 负面词汇扩充更新说明

## 📋 更新概述

对极端负面评论检测算法中的负面词汇库进行了大幅扩充，提升了情感分析的准确性和覆盖面。

## 🎯 更新内容

### 1. 侮辱性词汇扩充
**原词汇数量**: 14个  
**扩充后数量**: 48个

#### 新增中文侮辱词汇:
- **基础侮辱词**: 狗屎、操、卧槽、尼玛、滚、死、脑残、白痴、弱智
- **程度加强词**: 蠢货、废物、渣渣、智障、二逼、煞笔、傻叉、贱
- **品格贬低词**: 低级、恶劣、下流、无耻、可耻、丢人、糟糕、破烂
- **人格攻击词**: 混蛋、王八蛋、狗东西、畜生、禽兽、人渣、败类
- **精神攻击词**: 神经病、有病、缺德、恶毒、阴险、卑鄙、龌龊

#### 新增英文侮辱词汇:
- **直接侮辱**: asshole, bitch, bastard, crap, suck, moron, jerk
- **能力贬低**: loser, pathetic, worthless, useless, ridiculous, absurd
- **智力攻击**: dumb, retarded, crazy, insane, sick, twisted, evil

### 2. 威胁性语言扩充
**原词汇数量**: 15个  
**扩充后数量**: 45个

#### 新增中文威胁词汇:
- **法律威胁**: 告发、检举、揭发、揭露、告状、上诉、申诉、控告
- **权威机构**: 律师、法律、诉讼、赔偿、维权、打官司、法庭、仲裁
- **媒体曝光**: 消费者协会、消协、12315、记者、新闻、电视台、报社
- **网络传播**: 网络、微博、朋友圈、公开、公布、传播、扩散、转发
- **封杀行为**: 封杀、抵制、黑名单、拉黑、删除、屏蔽、查封、关闭
- **直接威胁**: 威胁、恐吓、警告、后果、严重、负责、追究、惩罚

#### 新增英文威胁词汇:
- **法律类**: lawyer, legal, prosecution, complain, complaint, authority
- **机构类**: government, department, agency, investigation
- **媒体类**: publish, broadcast, journalist, reporter, news, press
- **社交媒体**: social media, facebook, twitter, instagram, youtube
- **行动类**: boycott, blacklist, ban, block, delete, remove, shut down

### 3. 极端负面情绪词汇扩充
**原词汇数量**: 16个  
**扩充后数量**: 61个

#### 新增中文情绪词汇:
- **愤怒情绪**: 暴怒、狂怒、发疯、抓狂、疯狂
- **失望情绪**: 失望、沮丧、难过、心碎、痛苦、煎熬、折磨
- **绝望情绪**: 受罪、悲惨、凄惨、惨不忍睹、无语、震惊
- **后悔情绪**: 后悔、遗憾、可惜、白费、浪费、亏、损失、倒霉
- **崩溃情绪**: 糟糕、糟透、完蛋、毁了、砸了、废了、完了、死定了
- **极限情绪**: 受够了、忍无可忍、极限、爆发、彻底、完全
- **放弃情绪**: 心寒、心凉、寒心、心死、死心、放弃、算了、不要了

#### 新增英文情绪词汇:
- **强烈程度**: outrageous, unacceptable, intolerable, unbearable, devastating
- **震惊类**: shocking, appalling, revolting, sickening
- **愤怒类**: frustrated, annoyed, irritated, pissed, mad, angry, rage
- **伤心类**: disappointed, heartbroken, devastated, crushed, destroyed
- **绝望类**: hopeless, desperate, miserable, suffering, painful, agony
- **灾难类**: nightmare, disaster, catastrophe, failure, ruined, wasted
- **厌倦类**: enough, fed up, sick of, tired of, done with, give up

### 4. 新增词汇类别

#### A. 产品质量负面词汇 (新增)
**词汇数量**: 42个  
**评分权重**: 0.2分

##### 中文产品质量词汇:
- **质量问题**: 质量差、做工粗糙、材质差、不耐用、容易坏、有缺陷
- **使用体验**: 有问题、不好用、难用、复杂、麻烦、不方便、不实用
- **感官问题**: 噪音大、声音吵、味道重、有异味、颜色不正、尺寸不对
- **功能故障**: 漏水、漏电、短路、故障、死机、卡顿、慢、反应迟钝
- **精度问题**: 不准、不精确、误差大、偏差、不稳定、经常坏、老是出问题
- **制造问题**: 设计缺陷、工艺差、粗制滥造、偷工减料、虚假宣传、货不对板

##### 英文产品质量词汇:
- **质量类**: poor quality, bad quality, low quality, cheap, flimsy, fragile
- **状态类**: defective, faulty, broken, damaged, useless, worthless
- **性能类**: unreliable, unstable, slow, noisy, loud, smelly, toxic
- **体验类**: uncomfortable, inconvenient, complicated, difficult, hard to use
- **故障类**: malfunction, error, bug, glitch, crash, freeze, lag

#### B. 服务相关负面词汇 (新增)
**词汇数量**: 27个  
**评分权重**: 0.2分

##### 中文服务词汇:
- **态度问题**: 服务差、态度差、不耐烦、不礼貌、粗鲁、傲慢、冷淡
- **专业问题**: 不专业、不负责、敷衍、推脱、踢皮球、拖延、效率低
- **沟通问题**: 回复慢、不回复、联系不上、找不到人、客服差、售后差
- **处理问题**: 不解决问题、解决不了、处理不当、态度恶劣、欺骗客户
- **信用问题**: 虚假承诺、说一套做一套、言而无信、不守信用、骗钱

##### 英文服务词汇:
- **服务质量**: poor service, bad service, terrible service, rude, unprofessional
- **响应问题**: unhelpful, slow response, no response, ignore, dismissive
- **态度问题**: arrogant, condescending, incompetent, irresponsible, unreliable
- **诚信问题**: misleading, deceptive, dishonest, fraudulent, scam, cheat

## 📊 评分机制更新

### 更新后的评分逻辑:
1. **侮辱性词汇**: 检测到任意1个 → +0.4分
2. **威胁性语言**: 检测到任意1个 → +0.3分  
3. **极端负面情绪**: 检测到2个或以上 → +0.3分
4. **产品质量负面**: 检测到1个或以上 → +0.2分 (新增)
5. **服务相关负面**: 检测到1个或以上 → +0.2分 (新增)
6. **多重标点**: 3个以上感叹号/问号 → +0.1分

### 已移除的检测条件:
- ~~**全大写文本**: 长度>10字符 → +0.1分~~ (已删除)

### 极端负面判断阈值:
- **AI+规则**: 综合分数 ≥ 0.6
- **仅规则**: 规则分数 ≥ 0.6

## 🚀 预期效果

### 1. 提升检测准确性
- **覆盖面扩大**: 从87个词汇扩充到223个词汇
- **类别丰富**: 从3个类别增加到5个类别
- **语言支持**: 中英文并重，提升多语言检测能力

### 2. 增强业务相关性
- **产品质量**: 针对电商、制造业等产品相关负面评论
- **服务体验**: 针对客服、售后等服务相关负面评论
- **行业适配**: 更好适配宠物用品等垂直行业场景

### 3. 优化用户体验
- **精准识别**: 减少误判，提高极端负面评论识别精度
- **快速响应**: 帮助企业更快发现和处理关键负面声音
- **风险预警**: 通过多维度词汇检测，提前识别舆情风险

## 📝 技术说明

### 实现位置
文件: `socialmedia/backend/services/ai_sentiment_analyzer.py`  
方法: `_rule_based_extreme_detection()`

### 匹配逻辑
- **不区分大小写**: 所有词汇匹配前转换为小写
- **包含匹配**: 使用 `in` 操作符进行子串匹配
- **优先匹配**: 各类别检测到第一个匹配词汇即停止该类别检测
- **累计评分**: 不同类别的分数可以累加

### 性能考虑
- **短路优化**: 侮辱性和威胁性词汇检测到一个即停止
- **分数上限**: 最终分数限制在1.0以内
- **异常处理**: 包含完整的错误处理和日志记录

---

**更新时间**: 2024年最新版本  
**影响范围**: 极端负面评论检测算法  
**兼容性**: 向后兼容，不影响现有功能
