# 社媒分析工具使用说明

## 📋 工具概述

社媒分析工具是一个智能的社交媒体数据分析平台，支持多平台数据上传、自动清洗去重、AI情感分析和极端负面评论检测。帮助企业快速了解用户反馈和舆情状况。

## 🚀 快速开始

### 1. 数据上传
- **支持格式**：Excel (.xlsx/.xls)、CSV
- **文件大小**：最大50MB
- **数据来源**：Dash Social、小红书、Reddit、宠物网站等

### 2. 数据要求
必填字段：
- **Last Updated At**：评论时间
- **Brand Label**：品牌标签
- **Author Name**：用户名
- **Channel**：平台渠道
- **Text**：评论内容

## 🔄 处理流程

### 第一步：数据上传与存储
```
用户上传文件 → ODS原始数据层（全部保存，包含重复和无效数据）
```
- 所有数据直接保存，不做任何过滤
- 支持多用户同时上传，互不干扰
- 自动记录上传批次和用户信息

### 第二步：数据清洗与去重（ETL）
```
ODS层 → 清洗过滤 → DWD数据仓库层（有效去重数据）
```

#### 清洗规则：
- **过滤空内容**：删除text为空的记录
- **过滤无效时间**：删除last_update无效的记录
- **数据标准化**：统一字段格式和编码

#### 去重规则：
- **去重维度**：日期 + 品牌 + 用户 + 平台 + 评论内容（前255字符）
- **保留策略**：相同内容保留时间最新的记录
- **跨日期不去重**：不同日期的相同内容会保留

#### 去重示例：
```
原始数据：
1. "产品很好" - 用户A - Instagram - 2024-01-01 10:00
2. "产品很好" - 用户A - Instagram - 2024-01-01 11:00  
3. "产品很好" - 用户A - Instagram - 2024-01-02 10:00

处理后：
保留第2条（同日期最新）和第3条（不同日期）
```

### 第三步：AI智能分析
```
DWD层 → AI分析 → DWD_AI层（完整分析结果）
```

#### AI分析内容：
- **情感分析**：positive（正面）、negative（负面）、neutral（中性）
- **置信度评分**：AI分析的可信度（0-1）
- **极端负面检测**：识别需要重点关注的负面评论

## 🔍 极端负面评论判断

### 判断标准
采用**AI分析 + 规则检测**双重机制：

#### AI分析机制：
- 使用深度学习模型分析评论情感
- 输出情感分类和置信度分数
- 专门针对中文社交媒体语境优化

#### 规则检测机制（5大类别）：

**1. 侮辱性词汇**（权重0.4分）
- 中文：垃圾、傻逼、白痴、脑残、废物等48个词汇
- 英文：asshole、stupid、garbage、crap等
- 检测到任意1个即触发

**2. 威胁性语言**（权重0.3分）
- 法律威胁：告发、起诉、法律、律师、诉讼等
- 媒体曝光：记者、新闻、微博、消协、12315等
- 行动威胁：抵制、封杀、黑名单、曝光等
- 共45个威胁词汇，检测到任意1个即触发

**3. 极端负面情绪**（权重0.3分）
- 愤怒：暴怒、抓狂、疯狂、忍无可忍等
- 绝望：完蛋、毁了、死定了、心死等
- 厌恶：恶心、受够了、极限等
- 共61个情绪词汇，检测到2个或以上触发

**4. 产品质量负面**（权重0.2分）
- 质量问题：质量差、做工粗糙、容易坏、有缺陷等
- 使用体验：不好用、有问题、麻烦、不实用等
- 功能故障：漏水、故障、死机、卡顿等
- 共42个词汇，检测到1个或以上触发

**5. 服务相关负面**（权重0.2分）
- 态度问题：服务差、不耐烦、粗鲁、傲慢等
- 专业问题：不专业、敷衍、推脱、效率低等
- 沟通问题：回复慢、联系不上、客服差等
- 共27个词汇，检测到1个或以上触发

### 极端负面判定：
- **综合评分 ≥ 0.6分**：标记为极端负面评论
- **示例**：侮辱词汇(0.4) + 威胁语言(0.3) = 0.7分 → 极端负面

## 📊 分析结果

### 1. 品牌提及分析
- **关键词统计**：每个关键词的提及次数和趋势
- **时间分布**：按日期展示关键词提及变化
- **平台对比**：不同平台的品牌提及情况

### 2. 情感分析报告
- **整体情感分布**：正面、负面、中性评论占比
- **情感趋势图**：情感变化的时间趋势
- **平台情感对比**：各平台的情感分布差异
- **24小时分布**：评论发布的时间规律

### 3. 异常检测（极端负面）
- **极端负面列表**：所有需要重点关注的负面评论
- **用户统计**：发布极端负面评论的用户排行
- **平台统计**：各平台极端负面评论分布
- **详细信息**：每条评论的具体内容、时间、用户、平台

## 💡 使用建议

### 日常监控
1. **定期上传**：建议每日或每周定期上传最新数据
2. **关注趋势**：重点关注情感趋势的异常变化
3. **快速响应**：及时处理极端负面评论

### 数据质量
1. **字段完整**：确保必填字段数据完整性
2. **时间准确**：保证时间字段格式正确
3. **内容真实**：避免上传测试或虚假数据

### 分析应用
1. **产品改进**：基于负面评论发现产品问题
2. **服务优化**：通过服务相关负面反馈改进客服
3. **舆情管理**：及时发现和处理品牌声誉风险

## ⚠️ 注意事项

### 数据安全
- 用户数据按用户ID隔离存储
- 支持多用户同时使用，数据互不干扰
- 定期清理过期的处理状态

### 性能优化
- 大文件建议分批上传（每次不超过50MB）
- ETL和AI分析采用批处理，提高处理效率
- 系统自动清理超过1小时的过期任务

### 结果解读
- AI分析结果仅供参考，需结合实际情况判断
- 极端负面检测可能存在误判，建议人工复核
- 关注分析的趋势变化，而非单点数据

## 📞 技术支持

如有问题或需要帮助，请联系技术支持团队。

---

*本工具专注于社交媒体数据的智能分析，通过多维度的数据处理和AI分析，帮助企业更好地了解用户声音和市场反馈。*
